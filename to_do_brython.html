<html>
<head>
<script src="Brython1.4/src/brython.js"></script>
<link rel="stylesheet" type="text/css" href='css/base.css'>
</head>

<body onload="brython(1)">
    <header id="header">
                <h1>todos</h1>
                <input id="new-todo" placeholder="What needs to be done?" autofocus="">
                <center><button type="button" class="btn btn-primary btn-lg submit_button">Submit</button></center>
    </header>

    <section id="main">
            <ul id="todo-list">
                <li>
                <div class="view">
                    <input class="toggle" type="checkbox">
                    <label>finish brython app: to-do list</label>
                    <button class="destroy"></button>
                </div>
                <input class="edit" value="finish brython app: to-do list">
                </li><li>
                <div class="view">
                    <input class="toggle" type="checkbox">
                    <label>make the pycon presentation slides</label>
                    <button class="destroy"></button>
                </div>
                <input class="edit" value="make the pycon presentation slides">
                </li>
            </ul>
    </section>
</body>

<script type="text/python">
from browser import doc, html
from browser.local_storage import storage

def print_hello(ev):
    new_to_do_item = doc.get(selector='#new-todo')
    new_to_do_value = new_to_do_item[0].value
    whole_list = doc.get(selector='#todo-list')
    # Generate a new to-do item view using the Brython html object
    new_view = html.LI()
    new_view <= html.DIV(Class="view")
    new_view <= html.INPUT(Class="toggle", type="checkbox")
    new_view <= html.LABEL(new_to_do_value)
    new_view <=html.BUTTON(Class="destroy")
    whole_list[0] <= new_view
    new_to_do_item[0].value = ""

submit_butn = doc.get(selector='.submit_button')
print(submit_butn)
submit_butn[0].bind('click', print_hello)

</script>
</html>